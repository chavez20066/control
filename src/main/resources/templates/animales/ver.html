<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"></head>
<meta charset="UTF-8" />
<body>

	<header th:replace="layout/layout :: header"></header>

	<div class="container py-4">

		<div class="card bg-light">
			<div class="card-header" th:text="${titulo}"></div>
			<div class="card-body">
				
				<!--  th:if="${#lists.isEmpty(cliente.facturas)} -->
				
				<!-- <img th:if="${#strings.length(animal.foto) > 0}"-->
				<img th:if="${animal.foto != null}"
					class="img-thumbnail rounded float-left" style="max-width: 25%;"
					th:src="@{'/uploads/' + ${animal.foto}}" th:alt="${animal.foto}" />

				<ul class="list-group">
					<li class="list-group-item active" th:text="${animal.codAnimal}+'-'+${animal.nombre}"></li>
					<li class="list-group-item">						
						<div class="form-group row">
						<label class="col-sm-2 col-form-label"><strong>Sexo</strong></label>
							<div class="col-sm-6">
								<input type="text" disabled th:field="*{animal.sexo}" class="form-control"/>
							</div>
						</div>						
					</li>
					<li class="list-group-item">
						<div class="form-group row">
						<label class="col-sm-2 col-form-label"><strong>Madre</strong></label>
							<div class="col-sm-6">
								<input type="text" disabled th:field="*{animal.madre.nombre}" class="form-control"/>
							</div>
						</div>	
					</li>
					<li class="list-group-item">
						<div class="form-group row">
						<label class="col-sm-2 col-form-label"><strong>Padre</strong></label>
							<div class="col-sm-6">
								<input type="text" disabled th:field="*{animal.padrillo.nombre}" class="form-control"/>
							</div>
						</div>	
					</li>
					<li class="list-group-item">
						<div class="form-group row">
						<label class="col-sm-2 col-form-label"><strong>Fecha de Nacimiento</strong></label>
							<div class="col-sm-6">
								<input type="text" disabled th:field="*{animal.fechaNacimiento}" class="form-control"/>
							</div>
						</div>	
					</li>
					<li class="list-group-item">
						<div class="form-group row">
						<label class="col-sm-2 col-form-label"><strong>RAZA</strong></label>
							<div class="col-sm-6">
								<input type="text" disabled th:field="*{animal.raza}" class="form-control"/>
							</div>
						</div>					
					</li>
					<li class="list-group-item">
						<div class="form-group row">
						<label class="col-sm-2 col-form-label"><strong>Método Concepción</strong></label>
							<div class="col-sm-6">
								<input type="text" disabled th:field="*{animal.metodoConcep}" class="form-control"/>
							</div>
						</div>	
					</li>
					<li class="list-group-item">
						<div class="form-group row">
						<label class="col-sm-2 col-form-label"><strong>Edad</strong></label>
							<div class="col-sm-6">
								<input type="text" disabled  th:value="*{edad}" class="form-control"/>
							</div>
						</div>	
					</li>	
					<li class="list-group-item">
						<div class="form-group row">
						<label class="col-sm-2 col-form-label"><strong>Estado</strong></label>
							<div class="col-sm-6">
								<input type="text" disabled th:field="*{animal.estado}" class="form-control"/>
							</div>
						</div>	
					</li>					
				</ul>
<!-- 
				<div th:if="${#lists.isEmpty(cliente.facturas)}"
					class="alert alert-info my-4"
					th:text="'No hay facturas asignadas para el cliente ' + ${cliente.nombre} + ' ' + ${cliente.apellido}"></div>

				<table th:if="${not #lists.isEmpty(cliente.facturas)}"
					class="table table-bordered table-striped my-4">
					<thead class="thead-inverse">
						<tr>
							<th>folio</th>
							<th>descripciÃ³n</th>
							<th>fecha</th>
							<th>total</th>
							<th>ver</th>
							<th>eliminar</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="factura: ${cliente.facturas}">
							<td th:text="${factura.id}"></td>
							<td th:text="${factura.descripcion}"></td>
							<td th:text="${factura.createAt}"></td>
							<td th:text="${factura.total}"></td>
							<td><a class="btn btn-primary btn-xs"
								th:href="@{'/factura/ver/' + ${factura.id}}" th:text="'detalle'"></a></td>
							<td><a class="btn btn-danger btn-xs"
								th:href="@{'/factura/eliminar/' + ${factura.id}}"
								th:text="'eliminar'"
								onclick="return confirm('Â¿Estas seguro que desea eliminar la factura?');"></a></td>
						</tr>
					</tbody>

				</table>-->
				
				<!-- Indicadores
				1.- dia de lactancia
				2.- kilos promedio de su produccion				
				4.- Fecha posible de Celo 
				5.- Fecha posible de Seca
				3.- Fecha posible de Parto
				-->
				<br>				
                <div class="row pt-5 text-center"> 
                	<div class="col-sm-2">
              		    <label class="col-form-label"><strong>Día de Lactancia</strong></label>      	      		
                		<a class="btn btn-primary btn-circle btn-xl text-white"  th:text="${diaLactancia}"></a>                		
                	</div>
                	<div class="col-sm-3">
                		<label class="col-form-label"><strong>Kg Ultima Produccion</strong></label>      	      		
                		<a class="btn btn-success btn-circle btn-xl text-white"  th:text="${kgProduccion}"></a>   
                	</div>
                	<div class="col-sm-3">
                		<label class="col-form-label"><strong>Fecha Celo</strong></label>  <br>    	      		
                		<a class="btn btn-info btn-circle btn-xl text-white" 
                		style="font-size: 15px !important;padding-top: 15%;" th:text="${FechaCelo}"></a>                		
                	</div>
                	<div class="col-sm-2">
                		<label class="col-form-label"><strong>Fecha Seca</strong></label>  <br>    	      		
                		<a class="btn btn-danger btn-circle btn-xl text-white" 
                		style="font-size: 15px !important;padding-top: 20%;" th:text="${FechaSeca}"></a>                		
                	</div>
                	<div class="col-sm-2">
                		<label class="col-form-label"><strong>Fecha Parto</strong></label>  <br>    	      		
                		<a class="btn btn-warning btn-circle btn-xl text-white" 
                		style="font-size: 15px !important;padding-top: 20%;" th:text="${FechaParto}"></a>                		
                	</div>
                </div>
				<br>
				<div class="alert alert-success" th:if="${inse_success != null}" th:text="${inse_success}"></div>
				<div class="alert alert-danger" th:if="${inse_error != null}" th:text="${inse_error}"></div>
				
				<br>
				<h4 class="card-title">Controles</h4>
				<a class="btn btn-primary btn-xs"
						th:href="@{'/controles/form/'}"
						th:text="'Registrar control'"></a>
				<br>		
						
				<div th:if="${#lists.isEmpty(controles)}"
					class="alert alert-info my-4"
					th:text="'No hay controles asignados para el animal ' + ${animal.nombre} "></div>
					
				<table th:if="${not #lists.isEmpty(controles)}" class="table table-striped table-bordered">
					<thead class="thead-inverse">
						<tr>
							<th sec:authorize="hasRole('ROLE_USER')">Código</th>
							<th>Animal</th>
							<th>Evento</th>
							<th>Fecha</th>
							<th>Peso</th>
							<th>Observación</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">editar</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">eliminar</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="control: ${controles}">
							<td sec:authorize="hasRole('ROLE_USER')"><a class="btn btn-primary btn-xs" 
							th:href="@{/controles/ver/} + ${control.codControl}" th:text="${control.codControl}"></a></td>
							<td th:text="${control.animal.nombre}"></td>
							<td th:text="${control.evento.descripcion}"></td>
							<td th:text="${control.fechaControl}"></td>
							<td th:text="${control.peso}"></td>  
							<td th:text="${control.observacion}"></td>							
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-primary btn-xs"
								th:href="@{/controles/form/} + ${control.codControl}" th:text="'editar'"></a></td>
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-danger btn-xs"
								th:href="@{/controles/eliminar/} + ${control.codControl}" th:text="'eliminar'"
								onclick="return confirm('Estas seguro que quieres eliminar?');"></a></td>
						</tr>
					</tbody>

				</table>
				<!--  <nav th:replace="paginator-nav :: paginator"></nav>-->
				
				<br>
				<h4 class="card-title">Produciones</h4>
				<a class="btn btn-danger btn-xs"
						th:href="@{'/producciones/form/'}"
						th:text="'Registrar Producción'"></a>
						<br>
				
				<div th:if="${#lists.isEmpty(producciones)}"
					class="alert alert-info my-4"
					th:text="'No hay producciones registradas para el animal ' + ${animal.nombre} "></div>
					
				<table th:if="${not #lists.isEmpty(producciones)}" class="table table-striped table-bordered">
					<thead class="thead-inverse">
						<tr>
							<th sec:authorize="hasRole('ROLE_USER')">Código</th>
							<th>Animal</th>
							<th>Peso Kg</th>
							<th>Fecha</th>
							<th>Turno</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">editar</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">eliminar</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="produccion: ${producciones}">
							<td sec:authorize="hasRole('ROLE_USER')"><a class="btn btn-primary btn-xs" 
							th:href="@{/producciones/ver/} + ${produccion.codProduccion}" th:text="${produccion.codProduccion}"></a></td>
							<td th:text="${produccion.animal.nombre}"></td>
							<td th:text="${produccion.pesoProduccion}"></td>
							<td th:text="${produccion.fechaOrdenio}"></td>
							<td th:text="${produccion.turno}"></td>  														
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-primary btn-xs"
								th:href="@{/producciones/form/} + ${produccion.codProduccion}" th:text="'editar'"></a></td>
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-danger btn-xs"
								th:href="@{/producciones/eliminar/} + ${produccion.codProduccion}" th:text="'eliminar'"
								onclick="return confirm('Estas seguro que quieres eliminar?');"></a></td>
						</tr>
					</tbody>
				</table>
				
				<br>
				<h4 class="card-title">Partos</h4>
				
				<a class="btn btn-success btn-xs"
						th:href="@{'/partos/form/'}"
						th:text="'Registrar Parto'"></a>
				<br>
				
				<div th:if="${#lists.isEmpty(partos)}"
					class="alert alert-info my-4"
					th:text="'No hay partos registradas para el animal ' + ${animal.nombre} "></div>
				
				<table th:if="${not #lists.isEmpty(partos)}" class="table table-striped table-bordered">
					<thead class="thead-inverse">
						<tr>
							<th sec:authorize="hasRole('ROLE_USER')">Código</th>
							<th>Animal</th>
							<th>Fecha parto</th>
							<th>Numero crías</th>
							<th>Fecha proximo celo</th>							
							<th sec:authorize="hasRole('ROLE_ADMIN')">editar</th>
							<th sec:authorize="hasRole('ROLE_ADMIN')">eliminar</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="parto: ${partos}">
							<td sec:authorize="hasRole('ROLE_USER')"><a class="btn btn-primary btn-xs" 
							th:href="@{/partos/ver/} + ${parto.codParto}" th:text="${parto.codParto}"></a></td>
							<td th:text="${parto.animal.nombre}"></td>
							<td th:text="${parto.fechaParto}"></td>
							<td th:text="${parto.nroCrias}"></td>
							<td th:text="${parto.fechaProximoCelo}"></td>							 														
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-primary btn-xs"
								th:href="@{/partos/form/} + ${parto.codParto}" th:text="'editar'"></a></td>
							<td sec:authorize="hasRole('ROLE_ADMIN')"><a class="btn btn-danger btn-xs"
								th:href="@{/partos/eliminar/} + ${parto.codParto}" th:text="'eliminar'"
								onclick="return confirm('Estas seguro que quieres eliminar?');"></a></td>
						</tr>
					</tbody>

				</table>
				
				<!--  <nav th:replace="paginator-nav :: paginator"></nav>-->

			</div>
		</div>

	</div>

	<footer th:replace="layout/layout :: footer"></footer>
</body>
</html>